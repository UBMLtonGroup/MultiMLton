<HTML
><HEAD
><TITLE
>Coping with the Compiler's Error Messages</TITLE
><META
NAME="GENERATOR"
CONTENT="Modular DocBook HTML Stylesheet Version 1.59"><LINK
REL="HOME"
TITLE="Unix System Programming with Standard ML"
HREF="index.html"><LINK
REL="PREVIOUS"
TITLE="Tutorials"
HREF="x6434.html"><LINK
REL="NEXT"
TITLE="Identifier Errors"
HREF="x6459.html"><LINK
REL="STYLESHEET"
TYPE="text/css"
HREF="book.css"></HEAD
><BODY
CLASS="APPENDIX"
BGCOLOR="#FFFFFF"
TEXT="#000000"
LINK="#0000FF"
VLINK="#840084"
ALINK="#0000FF"
><DIV
CLASS="NAVHEADER"
><TABLE
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TH
COLSPAN="3"
ALIGN="center"
>Unix System Programming with Standard ML</TH
></TR
><TR
><TD
WIDTH="10%"
ALIGN="left"
VALIGN="bottom"
><A
HREF="x6434.html"
>Prev</A
></TD
><TD
WIDTH="80%"
ALIGN="center"
VALIGN="bottom"
></TD
><TD
WIDTH="10%"
ALIGN="right"
VALIGN="bottom"
><A
HREF="x6459.html"
>Next</A
></TD
></TR
></TABLE
><HR
ALIGN="LEFT"
WIDTH="100%"></DIV
><DIV
CLASS="APPENDIX"
><H1
><A
NAME="ERRORMSGS"
>Appendix B. Coping with the Compiler's Error Messages</A
></H1
><DIV
CLASS="TOC"
><DL
><DT
><B
>Table of Contents</B
></DT
><DT
><A
HREF="a6445.html#AEN6448"
>Syntax Errors</A
></DT
><DT
><A
HREF="x6459.html"
>Identifier Errors</A
></DT
><DT
><A
HREF="x6465.html"
>Record Errors</A
></DT
><DT
><A
HREF="x6478.html"
>Type Errors</A
></DT
></DL
></DIV
><P
>Figuring out the error messages from the compiler can sometimes be
the hardest part of getting a program to run.  The syntax errors are
easy enough but the type errors can be confusing even for experienced
programmers.  The good news is that once you get your program past the
type checker there is often not much wrong with it. It's not unusual
for programs hundreds of lines in length to just work the first time.
The richness of the type system and its enforcement provide logic
constraints that keep out many common programming errors.</P
><DIV
CLASS="SECT1"
><H1
CLASS="SECT1"
><A
NAME="AEN6448"
>Syntax Errors</A
></H1
><P
>The parser of the SML/NJ compiler uses error correction. This means that
it attempts to correct a syntax error so that it can continue compiling.
This lets it report more syntax errors in one run of the compiler.
However the error messages report the corrections that it made and you
have to invert its logic to figure out what your errors were.</P
><P
>The parser will attempt to either insert or delete one or more symbols
to produce syntactically correct input.  Here is an example.</P
><TABLE
BORDER="0"
BGCOLOR="#d0ffff"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="PROGRAMLISTING"
>fun f x 
let
    val i = 1
in
    i * i
end</PRE
></TD
></TR
></TABLE
><TABLE
BORDER="0"
BGCOLOR="#d0ffff"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="PROGRAMLISTING"
>syn1.sml:1.7 Error: syntax error: inserting  EQUALOP</PRE
></TD
></TR
></TABLE
><P
>This says that on line 1 at character position 7 it inserted an equals
symbol.  This was the right correction.  Here's a more notorious error.</P
><TABLE
BORDER="0"
BGCOLOR="#d0ffff"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="PROGRAMLISTING"
>structure Main =
struct
    fun f x =
    let
        val msg = "hello"
    in
        print msg;
        print "\n";
    end
end</PRE
></TD
></TR
></TABLE
><TABLE
BORDER="0"
BGCOLOR="#d0ffff"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="PROGRAMLISTING"
>syn2.sml:9.5 Error: syntax error: inserting  EQUALOP</PRE
></TD
></TR
></TABLE
><P
>The semicolon in a sequence of expressions is only allowed between the
expressions.  The one at the end of the last print is wrong.  But the
parser's correction is to insert something else after the semicolon to
get it into an internal position.  Curiously, if the function is not
inside a structure the parser produces a slightly better error message:
<TT
CLASS="COMPUTEROUTPUT"
>syntax error found at END</TT
>.  If you leave out the semicolon between
the prints this is not a syntax error but you will get a type error.</P
></DIV
></DIV
><DIV
CLASS="NAVFOOTER"
><HR
ALIGN="LEFT"
WIDTH="100%"><TABLE
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
><A
HREF="x6434.html"
>Prev</A
></TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="index.html"
>Home</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
><A
HREF="x6459.html"
>Next</A
></TD
></TR
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
>Tutorials</TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
>&nbsp;</TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
>Identifier Errors</TD
></TR
></TABLE
></DIV
></BODY
></HTML
>
